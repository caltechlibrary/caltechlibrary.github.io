<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Caltech Library's DLD Labs</title>
    <link rel="stylesheet" href="/css/site.css">
    <link rel="stylesheet" type="text/css" href="/css/code-blocks.css">
    <script type="module" src="/modules/copyToClipboard.js"></script>
    <link rel="alternate" type="application/rss+xml" title="Caltech Library, Digital Library Development posts" href="/rss.xml">
    <script type="module" src="https://media.library.caltech.edu/cl-webcomponents/cl-web-components.js"></script>
    <!-- BEGIN: Setup Opensearch Description Document -->
	<link rel="search" type="application/opensearchdescription+xml" href="https://caltechlibrary.github.io/osd.xml" title="Search DLD Labs">
	<Url type="application/json" rel="suggestions" template="https://caltechlibrary.github.io/search.html?q={searchTerms}" />
    <!--   END: Setup Opensearch Description Document -->
</head>
<body>
<header>
<a href="https://library.caltech.edu"><img src="/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
  <li><a href="/">DLD Labs</a></li>
  <li><a href="https://library.caltech.edu/library/home">Caltech Library</a></li>
  <li><a href="https://library.caltech.edu/archives/home">Caltech Archives</a></li>
  <li><a href="https://feeds.library.caltech.edu">Library Feeds</a></li>
  <li><a href="https://github.com/caltechlibrary/">DLD @ GitHub</a></li>
  <li>&nbsp;</li>
  <li><a href="/search.html">Site Search</a></li>
</ul>
</nav>

<section>
<h1 id="how-to-post-to-the-blog">How to post to the blog</h1>
<p>DLD development group has a website hosted on GitHub, <a
href="https://caltechlibrary.github.io"
class="uri">https://caltechlibrary.github.io</a>. It contains links to
Git based projects and documentation. It also hosts a simple blog built
on <a href="https://flatlake.app">FlatLake</a>, <a
href="https://github.com/caltechlibrary/flatlakeTools">flatlakeTools</a>
and a web component called <code>&lt;ul-flatlake-posts&gt;</code>. The
web component will read the JSON API generated by FlatLake and render a
list of recent posts.</p>
<p>The home page of the website is defined by the GitHub site’s
README.md, see <a
href="https://github.com/caltechlibrary/caltechlibrary.github.io/blob/main/README.html"
class="uri">https://github.com/caltechlibrary/caltechlibrary.github.io/blob/main/README.md</a>.
The blog’s index of posts is held in blog.md which is created/updated by
the flatlakeTools’ comand line program called <code>flt</code>. The
individual blog posts are stored in the <code>posts</code> directory
which contains a standard blog layout (<code>/YYYY/MM/DD/</code>). The
post needs to be valid <a href="https://commonmark.org/">CommonMark</a>
including some front matter.</p>
<p>The front matter schema.</p>
<dl>
<dt>title</dt>
<dd>
(expected) Title of the post
</dd>
<dt>abstract</dt>
<dd>
(expected) Short description of the post
</dd>
<dt>author</dt>
<dd>
(optional) Author is email address with name in side parens, example
<code>jane.doe@example.edu (Jane Does)</code>. Why this format? Because
RSS expects an author to be made up of an email address and name in
parens.
</dd>
<dt>datePublished</dt>
<dd>
(expected) This is the date when you first post the blog item. It should
be in YYYY-MM-DD format.
</dd>
<dt>dateCreated</dt>
<dd>
(good to have) The date you created the blog post
</dd>
<dt>dateModified</dt>
<dd>
(good to have) This is the date when you last modified the post.
</dd>
<dt>keywords</dt>
<dd>
(optional) A list of keywords
</dd>
</dl>
<p>Here’s a hello world post example</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Hello World</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">abstract:</span><span class="co"> This is a hello world post</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">datePublished:</span><span class="co"> 2025-08-04</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> jane@doe (Jane Doe)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>Hello World!</span></code></pre></div>
<p>There are additional fields that my prove help</p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>GNU Make (to orchestrate the website refresh)</li>
<li>Python 3 (needed by the project index script)</li>
<li><a href="https://pandoc.org">Pandoc</a></li>
<li><a href="https://flatlake.app">FlatLake</a></li>
<li><a href="https://pagefind.app">PageFind</a></li>
<li><a
href="https://github.com/caltechlibrary/CMTools/releases">CMTools</a>
(to manage the CodeMeta file)</li>
<li><a
href="https://github.com/caltechlibrary/flatlakeTools">flatlakeTools</a>
(to generate the RSS feed and blog.md)</li>
</ul>
<h2 id="adding-a-blog-post">Adding a blog post</h2>
<ol type="1">
<li>Checkout
<code>git@github.com:caltechlibrary/caltechlibrary.github.io</code> if
you haven’t already.</li>
<li>Change into the the <code>caltechlibrary.github.io</code>
directory</li>
<li>In this directory you’ll see a “posts” sub directory, this is where
the blog lives</li>
<li>Create a path under “posts” formed by year, two digit month and two
digit day, “posts/2025/08/04”</li>
<li>Write and put your CommonMark blog post in that directory</li>
<li>Double check the front matter for the required fields</li>
<li>Run <code>make</code> to update your local copy of the website</li>
<li>Using a local webserver view the website and make sure everthing
works</li>
</ol>
<p>When you are ready you can then do <code>make save</code> to update
the website. If you need to update the project index run
<code>make publish</code>.</p>
<h2 id="how-it-works">How it works</h2>
<p>The website content is presumed to be CommonMark (Markdown)
documents. FlatLake is used to generate a JSON API. The flatlakeTools’
<code>flt</code> program understands the FlatLake JSON API and can
render the RSS file for the blog as well as the blog.md file.</p>
<p>Pandoc is being used to turn the CommonMark documents into HTML. It
does this by applying the template named “page.tmpl”.</p>
<p>Once the HTML is produced then PageFind is used to generated search
indexes for the website and blog. The search page can use those indexes
as well as ones in select GitHub project sites to provide search
support.</p>
<p>The Makefile orchestrates everything base on a set of rules.</p>
</section>

<footer-global rss="/rss.xml"></footer-global>


</body>
</html>
